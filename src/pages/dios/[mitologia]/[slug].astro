---
import Base from "../../../layouts/base.astro";
import dioses from "../../../data/dioses.json"; 


export async function getStaticPaths() {
  return dioses.map((dios) => ({
    params: { 
      mitologia: dios.mitologia, // ej. "griega"
      slug: dios.slug
    },
    props: { dios },
  }));
}

const { dios } = Astro.props;
---

<Base>
  {dios ? (
    <section class="flex justify-center py-10 text-[#252525] mb-12">
      <div class="flex justify-center flex-col items-left lg:w-1/2 px-6">
       <div class="flex justify-center items-center">
        <div class="rounded-lg mb-6 w-[400px] h-[600px]">
             <picture>
                <img src={dios.imagen} alt={dios.nombre} class="w-full h-auto rounded-xl" />
              </picture>

        </div>
        </div>
        <h2 class="text-3xl font-bold mb-4 text-center">{dios.nombre}</h2>
        <p class="text-center mb-6">{dios.descripcion}</p>

        <h3 class="text-xl font-semibold mt-8 p-1 bg-[#bdbdbd] w-full text-center">Atributos</h3>
        <ul class="list-none list-inside mb-4 text-[#757575]">
          {Object.entries(dios.atributos).map(([key, val]) => (
            <li><strong>{key}:</strong> {val}</li>
          ))}
        </ul>

        <h3 class="text-xl font-semibold mt-8 p-1 bg-[#bdbdbd] w-full text-center">Familia</h3>
        <ul class="list-none list-inside text-[#757575]">
          {Object.entries(dios.familia ?? {}).map(([key, val]) => (
            <li><strong>{key}:</strong> {val}</li>
          ))}
        </ul>
      </div>
    </section>
  ) : (
    <p class="text-center text-red-400">Dios no encontrado</p>
  )}
</Base>
